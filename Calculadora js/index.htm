<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="script.js"></script>
    <title>Calculadora</title>
</head>

<body>
    <h2>Calculadora</h2>
    <p>Historial</p>
    <!---Historial-->
    <p id="historial">0</p>
    <!---Resultado-->
    <p id="resultado">0</p>

    <!---input-->
    <input type="text" value="0" id="input1" onfocus="ElimiarCeroInicial()">
    <!---operaciones-->
    <button onclick="Operaciones(1)">Sumar</button>
    <button onclick="Operaciones(2)">Resta</button>
    <button onclick="Operaciones(3)">Multiplacion</button>
    <button onclick="Operaciones(4)">Division</button>

    <button onclick="Numeros(1)">1</button>
    <button onclick="Numeros(2)">2</button>
    <button onclick="Numeros(3)">3</button>
    <button onclick="Numeros(4)">4</button>
    <button onclick="Numeros(5)">5</button>
    <button onclick="Numeros(6)">6</button>
    <button onclick="Numeros(7)">7</button>
    <button onclick="Numeros(8)">8</button>
    <button onclick="Numeros(9)">9</button>
    <button onclick="Numeros(0)">0</button>
    <button onclick="Numeros(10)">.</button>


    <button onclick="Resultados()">Es igual</button>
    <button onclick="Clear()">Clear</button>
    <button onclick="Erase()">Borrar</button>


    <script>

        let valor1 = 0;

        let count = 0;

        let Historial;

        let press = 0;

        let signo = "";

        let x = 0;

        function ElimiarCeroInicial() {
            let valor;
            const input = document.getElementById("input1");
            valor = input.value;
            if (valor[0] === '0') {
                valor = valor.slice(1);
                input.value = valor;
            }
            else {
                return;
            }
        }

        function AgregarNumeros(n) {
            const numeros = document.getElementById("input1");
            numeros.value += n;
        }

        function Numeros(n) {
            ElimiarCeroInicial()
            switch (n) {
                case 1:
                    AgregarNumeros(n)
                    return;
                case 2:
                    AgregarNumeros(n)
                    return;
                case 3:
                    AgregarNumeros(n)
                    return;
                case 4:
                    AgregarNumeros(n)
                    return;
                case 5:
                    AgregarNumeros(n)
                    return;
                case 6:
                    AgregarNumeros(n)
                    return;
                case 7:
                    AgregarNumeros(n)
                    return;
                case 8:
                    AgregarNumeros(n)
                    return;
                case 9:
                    AgregarNumeros(n)
                    return;
                case 0:
                    AgregarNumeros(n)
                    return;
                case 10:
                    const numeros = document.getElementById("input1");
                    numeros.value = ".";
                    return;
            }

        }

        function Operaciones(n) {

            switch (n) {
                //Suma
                case 1:

                    press++;

                    signo = "+";

                    const val1 = document.getElementById("input1");

                    valor1 += parseInt(val1.value);

                    Historial = val1.value;

                    val1.value = 0;

                    if (count === 0) {
                        document.getElementById("historial").innerText = " ";
                        document.getElementById("historial").innerText += " + " + Historial;
                        count++;
                        return;
                    }

                    document.getElementById("historial").innerText += " + " + Historial;
                    HistorialResultados()

                    return;
                //Resta
                case 2:
                    press++;
                    signo = "-";
                    const val2 = document.getElementById("input1");
                    valor1 -= parseInt(val2.value);

                    Historial = val2.value;

                    val2.value = 0;

                    if (count === 0) {
                        document.getElementById("historial").innerText = " ";
                        document.getElementById("historial").innerText += " - " + Historial;
                        count++;
                        return;
                    }

                    document.getElementById("historial").innerText += " - " + Historial;
                    HistorialResultados()

                    return;
                //Multiplicacion
                case 3:
                    press++;
                    signo = "*";
                    const val3 = document.getElementById("input1");

                    if (valor1 != 0) {
                        valor1 *= parseInt(val3.value);
                    } else {
                        valor1 = parseInt(val3.value);
                    }

                    Historial = val3.value;

                    val3.value = 0;

                    if (count === 0) {
                        document.getElementById("historial").innerText = " ";
                        document.getElementById("historial").innerText += Historial;
                        count++;
                        return;
                    }

                    document.getElementById("historial").innerText += " * " + Historial;
                    HistorialResultados()
                    return;
                //Division
                case 4:
                    signo = "/";
                    press++;
                    const val4 = document.getElementById("input1");

                    if (valor1 != 0) {
                        valor1 /= parseInt(val4.value);
                    } else {
                        valor1 = parseInt(val4.value);
                    }

                    Historial = val4.value;

                    val4.value = 0;

                    if (count === 0) {
                        document.getElementById("historial").innerText = " ";
                        document.getElementById("historial").innerText += Historial;
                        count++;
                        return;
                    }

                    document.getElementById("historial").innerText += " / " + Historial;
                    HistorialResultados()
                    return;
            }


        }

        function Resultados() {
            const input = document.getElementById("input1");
            x = parseInt(input.value);
            let n = 0;

            if (press === 0) {
                n = parseInt(input.value);
                input.value = n;
            }
            else if (press === 1 && signo === "+") {
                n = parseInt(input.value);

                valor1 += n;
                input.value = valor1;

            }
            else if (press === 1 && signo === "*") {
                n = parseInt(input.value);
                valor1 *= n;
                input.value = valor1;
            }
            else {
                input.value = valor1;
            }

            HistorialResultados()

        }

        function Clear() {
            const input = document.getElementById("input1");
            valor1 = 0;
            input.value = valor1;
            count = 0;
            press = 0;
            document.getElementById("historial").innerText = "0";
            HistorialResultados()

        }

        function HistorialResultados() {
            const parragraph = document.getElementById("resultado");


            if (press === 1 && signo === "+") {

                document.getElementById("historial").innerText += " + " + x;

            }
            else if (press === 1 && signo === "-") {

                document.getElementById("historial").innerText += " - " + x;
            }
            else if (press === 1 && signo === "*") {

                document.getElementById("historial").innerText += " * " + x;
            }
            else if (press === 1 && signo === "/") {

                document.getElementById("historial").innerText += " / " + x;
            }

            //
            parragraph.innerHTML = valor1;
        }

        function Erase() {
            const lastchar = document.getElementById("input1");
            let Char = String(lastchar.value);
            Char = Char.substring(0, Char.length - 1);
            if (Char === '') {
                Char = "0";
                press = 0;
            }
            lastchar.value = parseInt(Char);


        }



    </script>
</body>

</html>